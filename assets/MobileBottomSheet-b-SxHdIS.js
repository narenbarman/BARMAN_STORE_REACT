import{r as n,j as s,X as h}from"./index-DzGHLpa5.js";const d=[{label:"RICE",colorA:"#f59e0b",colorB:"#d97706",keywords:["rice","atta","flour","grain","wheat"]},{label:"OIL",colorA:"#22c55e",colorB:"#16a34a",keywords:["oil","mustard","sunflower","ghee","butter"]},{label:"TEA",colorA:"#14b8a6",colorB:"#0f766e",keywords:["tea","coffee"]},{label:"SOAP",colorA:"#3b82f6",colorB:"#1d4ed8",keywords:["soap","shampoo","detergent","cleaner"]},{label:"BISCUIT",colorA:"#fb7185",colorB:"#e11d48",keywords:["biscuit","snack","chips","cookie"]},{label:"DAIRY",colorA:"#a78bfa",colorB:"#7c3aed",keywords:["milk","curd","paneer","dairy"]},{label:"SPICE",colorA:"#f97316",colorB:"#c2410c",keywords:["spice","masala","salt","sugar"]}],g={label:"PRODUCT",colorA:"#64748b",colorB:"#334155"},l=e=>String(e||"").trim().toLowerCase(),b=e=>[l(e==null?void 0:e.name),l(e==null?void 0:e.category),l(e==null?void 0:e.brand)].join(" "),w=e=>{const t=b(e);for(const o of d)if(o.keywords.some(a=>t.includes(a)))return o;return g},x=e=>{const t=w(e),o=String((e==null?void 0:e.name)||t.label||"PRODUCT").trim().slice(0,24)||"PRODUCT",a=String(t.label||"PRODUCT").trim().slice(0,12)||"PRODUCT",i=`
<svg xmlns="http://www.w3.org/2000/svg" width="600" height="600" viewBox="0 0 600 600" preserveAspectRatio="xMidYMid slice">
  <defs>
    <linearGradient id="g" x1="0" y1="0" x2="1" y2="1">
      <stop offset="0%" stop-color="${t.colorA}"/>
      <stop offset="100%" stop-color="${t.colorB}"/>
    </linearGradient>
  </defs>
  <rect width="600" height="600" fill="url(#g)"/>
  <rect x="44" y="44" width="512" height="512" rx="28" fill="rgba(255,255,255,0.16)" stroke="rgba(255,255,255,0.38)" stroke-width="2"/>
  <text x="50%" y="46%" text-anchor="middle" fill="#ffffff" font-size="58" font-family="Arial, Helvetica, sans-serif" font-weight="700">${a}</text>
  <text x="50%" y="56%" text-anchor="middle" fill="rgba(255,255,255,0.92)" font-size="24" font-family="Arial, Helvetica, sans-serif">${o}</text>
</svg>`;return`data:image/svg+xml;charset=utf-8,${encodeURIComponent(i)}`},y=e=>{const t=String(e||"").trim();if(!t)return"";if(t.startsWith("data:image/")||t.startsWith("blob:"))return t;try{const o=typeof window<"u"?window.location.origin:"http://localhost",a=new URL(t,o);return a.protocol==="http:"||a.protocol==="https:"?a.href:""}catch{return""}},u=e=>x(e),A=e=>{const t=typeof e=="string"?e:e==null?void 0:e.image,o=y(t);return o||u(typeof e=="string"?{name:"",category:""}:e||{})},r="(max-width: 768px)",v=()=>typeof window>"u"||!window.matchMedia?!1:window.matchMedia(r).matches;function E(){const[e,t]=n.useState(v);return n.useEffect(()=>{if(typeof window>"u"||!window.matchMedia)return;const o=window.matchMedia(r),a=i=>t(i.matches);return t(o.matches),o.addEventListener("change",a),()=>o.removeEventListener("change",a)},[]),e}function C({open:e,title:t,onClose:o,children:a,actions:i=null,height:c="80vh",className:f=""}){return e?s.jsx("div",{className:"mobile-sheet-scrim",onClick:o,role:"presentation",children:s.jsxs("div",{className:`mobile-bottom-sheet ${f}`.trim(),style:{maxHeight:c},onClick:m=>m.stopPropagation(),role:"dialog","aria-modal":"true","aria-label":t||"Dialog",children:[s.jsx("div",{className:"mobile-sheet-handle"}),s.jsxs("div",{className:"mobile-sheet-header",children:[s.jsx("h3",{children:t}),s.jsx("button",{type:"button",className:"mobile-sheet-close-btn",onClick:o,"aria-label":"Close",children:s.jsx(h,{size:20})})]}),s.jsx("div",{className:"mobile-sheet-body",children:a}),i?s.jsx("div",{className:"mobile-sheet-actions",children:i}):null]})}):null}export{C as M,u as a,A as g,E as u};
